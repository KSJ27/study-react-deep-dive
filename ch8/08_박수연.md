# 08 ì¢‹ì€ ë¦¬ì•¡íŠ¸ ì½”ë“œ ì‘ì„±ì„ ìœ„í•œ í™˜ê²½ êµ¬ì¶•í•˜ê¸°

chapter: 8.1 ESLintë¥¼ í™œìš©í•œ ì •ì  ì½”ë“œ ë¶„ì„
ë°œí‘œ: 2025ë…„ 4ì›” 28ì¼

# 8.1 ESLintë¥¼ í™œìš©í•œ ì •ì  ì½”ë“œ ë¶„ì„

### ì •ì  ì½”ë“œ ë¶„ì„

ë²„ê·¸ ë°©ì§€ë¥¼ ìœ„í•´ ê°€ì¥ ë¹ ë¥´ê²Œ ì‹œë„í•´ë³¼ ìˆ˜ ìˆëŠ” ë°©ë²• ì¤‘ í•˜ë‚˜

ì½”ë“œì˜ ì‹¤í–‰ê³¼ëŠ” ë³„ê°œë¡œ ì½”ë“œ ê·¸ ìì²´ë§Œìœ¼ë¡œ **ì½”ë“œ ìŠ¤ë©œ(Code Smell)**ì„ ì°¾ì•„ë‚´ì–´ ë¬¸ì œì˜ ì†Œì§€ê°€ ìˆëŠ” ì½”ë“œë¥¼ ì‚¬ì „ì— ìˆ˜ì •í•˜ëŠ” ê²ƒ

- ì½”ë“œ ìŠ¤ë©œ(Code Smell): ì ì¬ì ìœ¼ë¡œ ë²„ê·¸ë¥¼ ì¼ìœ¼í‚¬ ìˆ˜ ìˆëŠ” ì½”ë“œ
    - ì¤‘ë³µ ì½”ë“œ, ê¸´ ë©”ì„œë“œ, ê³¼ë‹¤í•œ ë§¤ê°œë³€ìˆ˜, ë¶ˆí•„ìš”í•œ ì£¼ì„ ë“±

---

## 8.1.1 ESLint ì‚´í´ë³´ê¸°

### ESLintë€?

- ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ê°€ì¥ ë§ì´ ì‚¬ìš©ë˜ëŠ” ì •ì  ì½”ë“œ ë¶„ì„ ë„êµ¬
- ì½”ë“œë¥¼ ì •ì  ë¶„ì„í•˜ì—¬ ì ì¬ì ì¸ ë¬¸ì œë¥¼ ë°œê²¬í•˜ê³  ìˆ˜ì •í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì¤Œ

---

### ESLintê°€ ì½”ë“œë¥¼ ë¶„ì„í•˜ëŠ” ê³¼ì •

1. **ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë¥¼ ë¬¸ìì—´ë¡œ ì½ëŠ”ë‹¤.**
2. **ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë¥¼ ë¶„ì„í•  ìˆ˜ ìˆëŠ” íŒŒì„œë¡œ ì½”ë“œë¥¼ êµ¬ì¡°í™”í•˜ì—¬ AST(Abstract Syntax Tree)ë¥¼ ë§Œë“¦**
    - ğŸ”—[AST explorer](https://astexplorer.net/): AST íŒŒì„œë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” ì—ë””í„°
    - ESLintëŠ” ê¸°ë³¸ê°’ìœ¼ë¡œ **espree**ë¥¼ ì‚¬ìš©
    - ë‹¨ í•œ ì¤„ì˜ ì½”ë“œì´ì§€ë§Œ JSONìœ¼ë¡œ ìƒì„±ëœ íŠ¸ë¦¬ì— ë‹¤ì–‘í•œ ì •ë³´ê°€ ë‹´ê²¨ìˆìŒ
        - ë³€ìˆ˜, í•¨ìˆ˜, í•¨ìˆ˜ëª…, ì½”ë“œì˜ ìœ„ì¹˜ ë“± ìì„¸í•œ ì •ë³´ë“¤
        - ESLintë‚˜ Prettier ê°™ì€ ë„êµ¬ê°€ ì½”ë“œì˜ ì¤„ë°”ê¿ˆ, ë“¤ì—¬ì“°ê¸° ë“±ì„ íŒŒì•…í•  ìˆ˜ ìˆìŒ
    - **(ì˜ˆì‹œ)** debugger êµ¬ë¬¸ ì‚¬ìš©ì„ ê¸ˆì§€í•˜ëŠ” no-debugger ê·œì¹™
        
        **debuggerë§Œ ìˆëŠ” ì½”ë“œë¥¼ espreeë¡œ ë¶„ì„í•œ ëª¨ìŠµ**
        
        ```jsx
        {
          "type": "Program",
          "body": [
            {
              "type": "DebuggerStatement",
              "range": [0, 8]
            }
          ],
          "sourceType": "module",
          "range": [0, 8]
        }
        ```
        
3. **êµ¬ì¡°í™”ëœ ASTë¥¼ ê¸°ì¤€ìœ¼ë¡œ ê°ì¢… ê·œì¹™ê³¼ ëŒ€ì¡°**
    - **(ì˜ˆì‹œ)** debugger êµ¬ë¬¸ ì‚¬ìš©ì„ ê¸ˆì§€í•˜ëŠ” no-debugger ê·œì¹™
        
        ```jsx
        // no-debugger.js
        
        module.exports = {
          meta: {
            type: 'problem',
          },
          docs: {
            description: 'Disallow the use of `debugger`',
            recommended: true,
            url: 'https://eslint.org/docs/rules/no-debugger',
          },
          fixable: null,
          schema: [],
          message: {
            unexpected: "Unexpected 'debugger' statement.",
          },
          
          create(context) {
            return {
              DebuggerStatement(node) {
                context.report({
                  node,
                  messageId: 'unexpected',
                });
              },
            };
          },
        };
        ```
        
        - `meta`: ê·œì¹™ê³¼ ê´€ë ¨ëœ ë©”íƒ€ ì •ë³´
        - `docs`: ë¬¸ì„œí™”ì— í•„ìš”í•œ ì •ë³´
        - `fixable`: eslint --fixë¡œ ìˆ˜ì • ê°€ëŠ¥ ì—¬ë¶€
        - `message`: ê·œì¹™ì„ ì–´ê²¼ì„ ë•Œ ë°˜í™˜í•˜ëŠ” ê²½ê³  ë¬¸êµ¬
        - `create(context)`
            - í•¨ìˆ˜ë¥¼ í†µí•´ ê·œì¹™ì˜ ë™ì‘ì„ ì •ì˜
            - espreeë¡œ ë§Œë“¤ì–´ì§„ AST íŠ¸ë¦¬ë¥¼ ìˆœíšŒí•˜ì—¬, ì„ ì–¸í•œ ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ì½”ë“œë¥¼ ì°¾ìŒ
            - ë°œê²¬ë˜ë©´ `context.report()`ë¥¼ í˜¸ì¶œ
4. **ê·œì¹™ê³¼ ëŒ€ì¡°í–ˆì„ ë•Œ ì´ë¥¼ ìœ„ë°˜í•œ ì½”ë“œë¥¼ ì•Œë¦¬ê±°ë‚˜(report) ìˆ˜ì •í•¨(fix)**
    - **(ì˜ˆì‹œ)** debugger êµ¬ë¬¸ ì‚¬ìš©ì„ ê¸ˆì§€í•˜ëŠ” no-debugger ê·œì¹™
        
        `DebuggerStatement`ë¥¼ ë§Œë‚˜ë©´ í•´ë‹¹ ë…¸ë“œë¥¼ ë¦¬í¬íŠ¸í•˜ì—¬ debugger ì‚¬ìš©ì„ ì•Œë¦¼
        
        ```jsx
        /Users/yceffort/private/sample/pages/index.tsx
            16:1    error    Unexpected 'debugger' statement    no-debugger
        ```
        

---

### ESLintê°€ ì œê³µí•˜ëŠ” ê·œì¹™ë“¤: https://github.com/eslint/eslint

- íŒŒì¼ê²½ë¡œ: `lib/rules`

---

## 8.1.2 eslint-pluginê³¼ eslint-config

### eslint-plugin

íŠ¹ì • í”„ë ˆì„ì›Œí¬ë‚˜ ë„ë©”ì¸ê³¼ ê´€ë ¨ëœ ê·œì¹™ì„ ë¬¶ì–´ì„œ ì œê³µí•˜ëŠ” íŒ¨í‚¤ì§€

- eslint-plugin-import: importì™€ ê´€ë ¨ëœ ë‹¤ì–‘í•œ ê·œì¹™ ì œê³µ
- eslint-plugin-reactì˜ react/jsx-key
    - JSX ë°°ì—´ì— í‚¤ë¥¼ ì„ ì–¸í•˜ì§€ ì•Šì•˜ì„ ê²½ìš° ê²½ê³ 

### eslint-config

eslint-pluginì„ ë¬¶ì–´ì„œ í•˜ë‚˜ì˜ ì„¸íŠ¸ë¡œ ì œê³µí•˜ëŠ” íŒ¨í‚¤ì§€

- ì—¬ëŸ¬ í”„ë¡œì íŠ¸ì— ë™ì¼í•˜ê²Œ ESLint ê´€ë ¨ ì„¤ì •ì„ ì ìš©í•  ìˆ˜ ìˆìŒ

---

### ë„¤ì´ë° ê·œì¹™

- ì ‘ë‘ì‚¬(eslint-plugin ë˜ëŠ” eslint-config) + í•œ ê°œì˜ ë‹¨ì–´
    - eslint-plugin-naver â­•
    - eslint-plugin-naver-financials âŒ
- íŠ¹ì • ìŠ¤ì½”í”„ë¥¼ ë¶™ì´ëŠ” ê²ƒ ê¹Œì§€ëŠ” í—ˆìš©
    - @titicaca/eslint-config/triple

---

### ëŒ€í‘œì ì¸ eslint-config ë¼ì´ë¸ŒëŸ¬ë¦¬

- eslint-config-airbnb
- @titicaca/triple-config-kit
- eslint-config-next

---

## 8.1.3 ë‚˜ë§Œì˜ ESLint ê·œì¹™ ë§Œë“¤ê¸°

### ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ê·œì¹™ ì»¤ìŠ¤í„°ë§ˆì´ì§• (import Reactë¥¼ ì œê±°í•˜ëŠ” ESLint ê·œì¹™ ë§Œë“¤ê¸°)

ë¦¬ì•¡íŠ¸ 17ë²„ì „ë¶€í„°, import React êµ¬ë¬¸ì´ í•„ìš” ì—†ì–´ì§ì— ë”°ë¼, ì´ë¥¼ ì œê±°í•˜ê¸° ìœ„í•œ ê·œì¹™

- ê¸°ì¡´ì— ìˆë˜ no-restricted-importsì— ì¶”ê°€ì ìœ¼ë¡œ ì¸ìˆ˜ë¥¼ ì œê³µí•˜ë©´ importí•  ìˆ˜ ìˆëŠ” ëª¨ë“ˆì„ ì œí•œí•  ìˆ˜ ìˆìŒ
- `.eslintrc.js` íŒŒì¼ ìƒì„±

```jsx
module.exports = {
  rules: {
    "no-restricted-imports": [
      "error",
      {
	      // pathsì— ê¸ˆì§€í•  ëª¨ë“ˆ ì¶”ê°€
        paths: [
          {
            name: "react",  // ëª¨ë“ˆëª…
            importNames: ["default"],  // ëª¨ë“ˆ ì´ë¦„
            message:  // ê²½ê³  ë©”ì„¸ì§€
              "import React from 'react'ëŠ” react 17ë¶€í„° ë” ì´ìƒ í•„ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. í•„ìš”í•œ ê²ƒë§Œ reactë¡œë¶€í„° importí•´ì„œ ì‚¬ìš©í•´ ì£¼ì„¸ìš”.",
          },
        ],
      },
    ],
  },
};

```

---

### ìƒˆë¡œìš´ ê·œì¹™ ë§Œë“¤ê¸° (new Date() ê¸ˆì§€ ê·œì¹™)

**ìƒí™©**

- `new Date()` : ê¸°ê¸°ì— ì¢…ì†ëœ í˜„ì¬ ì‹œê°„ì„ ë‚˜íƒ€ë‚´ì¤Œ
- ì‚¬ìš© ì¤‘ì¸ ê¸°ê¸°ì— ìƒê´€ì—†ì´ í•œêµ­ì˜ ì‹œê°„ì„ ë°˜í™˜í•´ì•¼ í•˜ëŠ” ìƒí™©
- íŒ€ ë‚´ì—ì„œ í•­ìƒ í•œêµ­ ì‹œê°„ì„ ë°˜í™˜í•˜ëŠ” ì„œë²„ì— ì˜ì¡´í•´ì„œ ì‘ì—…í•´ì•¼ í•˜ëŠ” ê·œì¹™ì„ ì •ì˜í•¨
    - `new Date()` í•¨ìˆ˜ ëŒ€ì‹ , `ServerDate()` í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ ì‚¬ìš©

**ê³¼ì •**

1. **new Date()ì˜ AST íŠ¸ë¦¬ êµ¬ì¡° ë¶„ì„ (espree)**
2. **ê¸ˆì§€í•´ì•¼ í•  new Date()ì˜ ë…¸ë“œê°€ ë¬´ì—‡ì¸ì§€ í™•ì¸**
    - `type`: NewExpression, `Callee.name`: Date, `arguments`ê°€ ë¹ˆ ë°°ì—´ì¸ ê²½ìš°
3. **ASTë¥¼ ê¸°ë°˜ìœ¼ë¡œ ESLint ê·œì¹™ ìƒì„±**
    - no-new-date ê·œì¹™
        
        ```jsx
        /**
         * @type {import('eslint').Rule.RuleModule}
         */
        
        module.exports = {
          meta: {
            type: 'suggestion',
            docs: {
              description: 'disalow use of the new Date()',
              recommended: false,
            },
          },
          fixable: 'code',
          schema: [],
          message: {
            message:
              'new Date()ëŠ” í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì‹¤í–‰ ì‹œ í•´ë‹¹ ê¸°ê¸°ì˜ ì‹œê°„ì— ì˜ì¡´ì ì´ë¼ ì •í™•í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. í˜„ì¬ ì‹œê°„ì´ í•„ìš”í•˜ë‹¤ë©´ ServerDate()ë¥¼ ì‚¬ìš©í•´ ì£¼ì„¸ìš”.',
          },
          create: function (context) {
            return {
              // NewExpression ì„ ì–¸: new ìƒì„±ìë¥¼ ì‚¬ìš©í•  ë•Œ ESLintê°€ ì‹¤í–‰ë˜ë„ë¡ í•¨.
              NewExpression: function (node) {
              
                // í•´ë‹¹ nodeë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì°¾ê³ ì í•˜ëŠ” ìƒì„±ìì¸ì§€ ê²€ì¦
                if (node.callee.name === 'Date' && node.arguments.length === 0) {
                
                  // ì°¾ì•˜ë‹¤ë©´ context.reportë¥¼ í†µí•´ í•´ë‹¹ ì½”ë“œ ìŠ¤ë©œì„ ë¦¬í¬íŠ¸í•˜ê³ , messageë¥¼ ê°€ë¦¬í‚¨ë‹¤
                  context.report({
                    node: node,
                    messageId: 'message',
                    
                    // fix: ìë™ìœ¼ë¡œ ìˆ˜ì •í•˜ëŠ” ì½”ë“œ ì„¤ì • ê°€ëŠ¥
                    fix: function (fixer) {
                      return fixer.replaceText(node, 'ServerDate()');
                    },
                  });
                }
              },
            };
          },
        };
        ```
        
4. **eslint-plugin í˜•íƒœë¡œ ê·œì¹™ ë°°í¬**
    
    (1) ë¹ˆ íŒ¨í‚¤ì§€ì— eslint-pluginì„ êµ¬ì„±í•  í™˜ê²½ êµ¬ì„±: yo, generate-eslint í™œìš©
    
    (2) ë””ë ‰í† ë¦¬ ë° íŒŒì¼ ìƒì„±
    
    ```jsx
    ğŸ“‚eslint-plugin-5kdk
     â”£ ğŸ“‚docs
     â”ƒ â”— ğŸ“‚rules
     â”ƒ â”ƒ â”— ğŸ“œno-new-date.md
     â”£ ğŸ“‚lib
     â”ƒ â”£ ğŸ“‚rules
     â”ƒ â”ƒ â”— ğŸ“œno-new-date.js
     â”ƒ â”— ğŸ“œindex.js
     â”£ ğŸ“‚tests
     â”ƒ â”— ğŸ“‚rules
     â”ƒ â”ƒ â”— ğŸ“œno-new-date.js
     â”£ ğŸ“œ.eslintrc.js
     â”£ ğŸ“œ.npmrc
     â”£ ğŸ“œREADME.md
     â”£ ğŸ“œpackage-lock.json
     â”— ğŸ“œpackage.json
    ```
    
    - `lib/rules/no-new-date.js` íŒŒì¼ì— ì‘ì„±í•œ ê·œì¹™ ë„£ê¸°
    - `docs`: í•´ë‹¹ ê·œì¹™ì„ ìœ„í•œ ì„¤ëª…
    - `tests`: í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±
5. **npm publishë¡œ ë°°í¬ í›„, ì›í•˜ëŠ” í”„ë¡œì íŠ¸ì— ì„¤ì¹˜**

## 8.1.4 ì£¼ì˜í•  ì 

### Prettierì™€ì˜ ì¶©ëŒ

- Prettier: ì½”ë“œì˜ í¬ë§¤íŒ…ì„ ë„ì™€ì£¼ëŠ” ë„êµ¬ë¡œ, ESLintì™€ ë§ˆì°¬ê°€ì§€ë¡œ ì½”ë“œë¥¼ **ì •ì  ë¶„ì„**í•¨

| í•­ëª© | ESLint | Prettier |
| --- | --- | --- |
| ëª©ì  | ì½”ë“œì˜ **ì ì¬ì ì¸ ë¬¸ì œ** ë¶„ì„ | ì½”ë“œ **í¬ë§¤íŒ… ì‘ì—…** (ì¤„ë°”ê¿ˆ, ë“¤ì—¬ì“°ê¸°, ë”°ì˜´í‘œ, ìµœëŒ€ ê¸€ì ìˆ˜ ë“±) |
| ì ìš© ë²”ìœ„ | **JavaScript**ì—ì„œë§Œ ì‘ë™ | **ë‹¤ì–‘í•œ ì–¸ì–´**ì— ì ìš© ê°€ëŠ¥ |
- ESLintì—ì„œë„ Prettierì—ì„œ ì²˜ë¦¬í•˜ëŠ” ì‘ì—…ë“¤ì„ í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì—, ì„œë¡œ ì¶©ëŒ ê°€ëŠ¥

### ì¶©ëŒì„ í•´ê²°í•˜ëŠ” 2ê°€ì§€ ë°©ë²•

- **ì„œë¡œì˜ ê·œì¹™ì´ ì¶©ëŒë˜ì§€ ì•Šë„ë¡ ì„ ì–¸:** Prettierì—ì„œ ì œê³µí•˜ëŠ” ê·œì¹™ì„ ESLintì—ì„œ ë„ê¸°
    - ESLintë¥¼ ì ìš©í•˜ëŠ” ì‘ì—…ê³¼ ì½”ë“œì˜ í¬ë§¤íŒ…ì„ í•˜ëŠ” ì‘ì—…ì´ ì„œë¡œ ë‹¤ë¥¸ íŒ¨í‚¤ì§€ì—ì„œ ë°œìƒí•˜ê²Œ ë¨
- **ìë°”ìŠ¤í¬ë¦½íŠ¸ë‚˜ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” ESLintì—, ê·¸ ì™¸ì˜ íŒŒì¼ì€ ëª¨ë‘ Prettierì— ì ìš©í•˜ê¸°
(ë‹¨, ìë°”ìŠ¤í¬ë¦½íŠ¸ì— ì¶”ê°€ì ìœ¼ë¡œ í•„ìš”í•œ Prettier ê´€ë ¨ ê·œì¹™ì€ ëª¨ë‘ eslint-plugin-prettier ì‚¬ìš©)**
    - **eslint-plugin-prettier**: Prettierì—ì„œ ì œê³µí•˜ëŠ” ëª¨ë“  ê·œì¹™ì„ ESLintì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê·œì¹™ìœ¼ë¡œ ë§Œë“  í”Œë¡œê·¸ì¸
    - ì„œë¡œ ê´€ì—¬í•˜ëŠ” íŒŒì¼ì„ ë¬¼ë¦¬ì ìœ¼ë¡œ ë¶„ë¦¬í•˜ì—¬, ì½”ë“œ ì¶©ëŒ ìœ„í—˜ì„ ì—†ì• ê³  Prettier ê·œì¹™ì„ ëª¨ë‘ ì‚¬ìš©

---

### ê·œì¹™ ì˜ˆì™¸ ì²˜ë¦¬

```jsx
// í˜„ì¬ ì¤„ ì œì™¸
console.log('hello world'); // eslint-disable-line no-console

// ë‹¤ìŒ ì¤„ ì œì™¸
// eslint-disable-next-line no-console
console.log('hello world');

// íŠ¹ì • ì—¬ëŸ¬ ì¤„ ì œì™¸ (disable + enable)
/* eslint-disable no-console */
console.log('hello world');
console.log('Javascript debug log');
/* eslint-enable no-console */

// íŒŒì¼ ì „ì²´ ì œì™¸ (ì£¼ì„ ì•„ë˜ë¶€í„° ê·œì¹™ ì œì™¸)
/* eslint-disable no-console */
console.log('hello world');
```

---

### ESLint ë²„ì „ ì¶©ëŒ

- ì„¤ì¹˜í•˜ê³ ì í•˜ëŠ” eslint-config, pluginì´ ì§€ì›í•˜ëŠ” ESLint ë²„ì „ê³¼ í”„ë¡œì íŠ¸ ESLint ë²„ì „ í™•ì¸
- ë‘ ë²„ì „ì„ ëª¨ë‘ ì¶©ì¡±ì‹œí‚¬ ìˆ˜ ìˆëŠ” í™˜ê²½ ì„¸íŒ… í•„ìš”
    - ESLint ì˜ì¡´ì„±ì„ peerDependenciesë¡œ ì„¤ì •

---
