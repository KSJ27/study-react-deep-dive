# 03_ë¦¬ì•¡íŠ¸ í›… ê¹Šê²Œ ì‚´í´ë³´ê¸°

## ë¦¬ì•¡íŠ¸ í›… ì‚´í´ë³´ê¸°

### useEffect

`useEffect`ëŠ” [ì™¸ë¶€ ì‹œìŠ¤í…œê³¼ ì»´í¬ë„ŒíŠ¸ë¥¼ ë™ê¸°í™”](https://ko.react.dev/learn/synchronizing-with-effects)í•˜ëŠ” í›…ì´ë‹¤. ë™ê¸°ì ìœ¼ë¡œ ë¶€ìˆ˜ íš¨ê³¼(Effect)ë¥¼ ë§Œë“ ë‹¤.

> `useEffect(setup, dependencies?)`

`useEffect`ëŠ” ë Œë”ë§í•  ë•Œë§ˆë‹¤ ì˜ì¡´ì„±(`dependencies`)ì— ìˆëŠ” ê°’ì„ ê´€ì°°í•˜ë©´ì„œ, ì´ ì˜ì¡´ì„±ì˜ ê°’ì´ ì´ì „ê³¼ ë‹¤ë¥¸ ê²Œ í•˜ë‚˜ë¼ë„ ìˆìœ¼ë©´ ë¶€ìˆ˜ íš¨ê³¼(`setup`)ë¥¼ ì‹¤í–‰í•˜ëŠ” í•¨ìˆ˜ì´ë‹¤.

- **ë Œë”ë§**

    ë Œë”ë§ ì‹œì : `state`ê°€ ë³€í•  ë•Œ, `props`ê°€ ë³€í•  ë•Œ, ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ë  ë•Œ

    ë Œë”ë§ ë°©ì‹: í•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸ëŠ” ë§¤ë²ˆ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•´ ë Œë”ë§ì„ ìˆ˜í–‰í•œë‹¤.

- **ë¶€ìˆ˜ íš¨ê³¼**

    ì°¸ê³ ) [Effectë¡œ ë™ê¸°í™”í•˜ê¸° â€“ React](https://ko.react.dev/learn/synchronizing-with-effects)

    EffectëŠ” ë Œë”ë§ ìì²´ì— ì˜í•´ ë°œìƒí•˜ëŠ” ë¶€ìˆ˜ íš¨ê³¼ë¥¼ íŠ¹ì •í•œë‹¤.

    ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì˜ 2ê°€ì§€ ë¡œì§ ìœ í˜•

    1. UIë¥¼ í‘œí˜„í•˜ëŠ” **ë Œë”ë§ ì½”ë“œ**

        ì„œë²„ ì—°ê²° ì„¤ì •ì€ ***Effect**ì´ë‹¤*. ì´ ê²½ìš°ëŠ” ì–´ë–¤ ìƒí˜¸ ì‘ìš©ê³¼ë„ ìƒê´€ì—†ì´ ë°œìƒí•´ì•¼ í•˜ê¸° ë•Œë¬¸ì´ë‹¤.

    2. ìƒí˜¸ì‘ìš©ì„ ë”í•˜ëŠ” **ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬**

        ì±„íŒ…ì—ì„œ ë©”ì‹œì§€ë¥¼ ë³´ë‚´ëŠ” ê²ƒì€ ***ì´ë²¤íŠ¸***ì´ë‹¤. ì´ ê²½ìš°ëŠ” ì‚¬ìš©ìê°€ íŠ¹ì • ë²„íŠ¼ì„ í´ë¦­í•¨ì— ë”°ë¼ ì§ì ‘ì ìœ¼ë¡œ ë°œìƒí•˜ê¸° ë•Œë¬¸ì´ë‹¤.

- **ì˜ì¡´ì„±**

    ì˜ì¡´ì„± ë°°ì—´ì´ **ì—†ëŠ”** ê²½ìš°: ì»´í¬ë„ŒíŠ¸ì˜ ë Œë”ë§ì´ ì™„ë£Œë  ë•Œë§ˆë‹¤ ë¶€ìˆ˜ íš¨ê³¼ë¥¼ ì‹¤í–‰

    ì˜ì¡´ì„± ë°°ì—´ì´ **ë¹ˆ** ê²½ìš°: ì»´í¬ë„ŒíŠ¸ì˜ ë Œë”ë§ì´ ìµœì´ˆë¡œ ì™„ë£Œë˜ì—ˆì„ ë•Œë§Œ ë¶€ìˆ˜ íš¨ê³¼ë¥¼ ì‹¤í–‰

    ì˜ì¡´ì„± ë°°ì—´ì´ **ì±„ì›Œì§„** ê²½ìš°: ì»´í¬ë„ŒíŠ¸ì˜ ë Œë”ë§ì´ ì™„ë£Œë˜ê³ , ì˜ì¡´ì„± ë°°ì—´ì˜ ê°’ì´ ë³€ê²½ëœ ê²½ìš°ì— ë¶€ìˆ˜ íš¨ê³¼ë¥¼ ì‹¤í–‰

    â“ ì˜ì¡´ì„± ë°°ì—´ì´ ì—†ëŠ” useEffectë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒê³¼, useEffectë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²ƒì˜ ì°¨ì´ëŠ”?

    ```tsx
    function Component() { // ---1ï¸âƒ£
      console.log("rendered");
      ë¬´ê±°ìš´ ì‘ì—….
      
      return
    }
    
    function Component() { // ---2ï¸âƒ£
      useEffect(() => {
        window. 
        console.log("rendered");
      });
      return 
    }
    ```

    1. `useEffect`ëŠ” í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œì—ì„œë§Œ ì‹¤í–‰ë˜ëŠ” ê²ƒì„ ë³´ì¥í•´ ì¤€ë‹¤. â‡’ ë§Œì•½ 2ï¸âƒ£ì˜ useEffect ë‚´ë¶€ì—ì„œ windowì— ì ‘ê·¼í•˜ê³  ë”°ë¡œ ì˜ˆì™¸ ì²˜ë¦¬ë¥¼ í•˜ì§€ ì•Šë”ë¼ë„, ì„œë²„ ì‚¬ì´ë“œì—ì„œ ì‹¤í–‰ ì‹œ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤. ë°”ê¿” ë§í•˜ë©´, ì„œë²„ì—ì„œ ì‹¤í–‰ë˜ê¸¸ ì›í•˜ëŠ” ë¡œì§ì„ useEffect ë‚´ë¶€ì— ë„£ì–´ì„  ì•ˆ ëœë‹¤. 
    2. `useEffect`ëŠ” ì»´í¬ë„ŒíŠ¸ ë Œë”ë§ì´ ì™„ë£Œëœ ì´í›„ì— ì‹¤í–‰ëœë‹¤. â‡’ ì„œë²„ ì‚¬ì´ë“œì—ì„œ ë¬´ê±°ìš´ ì‘ì—…ì„ `useEffect` ë°”ê¹¥ì—ì„œ ì‹¤í–‰í•˜ê²Œ ë˜ë©´, ì»´í¬ë„ŒíŠ¸ì˜ ë°˜í™˜ì„ ì§€ì—°ì‹œì¼œ ì„±ëŠ¥ì— ì•…ì˜í–¥ì„ ë¯¸ì¹  ìˆ˜ ìˆë‹¤.
- **í´ë¦°ì—… í•¨ìˆ˜** ì½”ë“œ í™•ì¸

    **ì‹¤í–‰ ì‹œì **: `useEffect`ì˜ ì½œë°±ì´ ì‹¤í–‰ë  ë•Œë§ˆë‹¤ ì´ì „ì˜ í´ë¦°ì—… í•¨ìˆ˜ê°€ ì¡´ì¬í•œë‹¤ë©´, ê·¸ í´ë¦°ì—… í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•œ ë’¤ì— ì½œë°±ì„ ì‹¤í–‰í•œë‹¤. 

    â‡’ í´ë¦°ì—… í•¨ìˆ˜ê°€ ì •ì˜ëœ ì‹œì ì˜ ì»´í¬ë„ŒíŠ¸ì˜ ìƒíƒœì™€ ì‹¤í–‰ë˜ëŠ” ì‹œì ì˜ ì»´í¬ë„ŒíŠ¸ì˜ ìƒíƒœëŠ” ë‹¤ë¥´ë‹¤. í´ë¦°ì—… í•¨ìˆ˜ê°€ ì°¸ì¡°í•˜ëŠ” ê°’ë“¤ì€ ì •ì˜ëœ ì‹œì ì˜ ê°’ë“¤ì´ë¼ëŠ” ì ì— ì£¼ì˜í•˜ì.

- **âš ï¸ ì£¼ì˜**

  - ì›ì¹™ì ìœ¼ë¡œ `useEffect`ì˜ ì½œë°±ì—ì„œ ì‚¬ìš©í•˜ëŠ” ê°’ì€ ì˜ì¡´ì„± ë°°ì—´ì— ëª¨ë‘ í¬í•¨í•´ì•¼ í•œë‹¤.
  
    â‡’ ë‚´ê°€ ì‚¬ìš©í•œ `useEffect`ê°€ ë¹ˆ ì˜ì¡´ì„± ë°°ì—´ì„ ê°€ì ¸ì•¼ ì˜¬ë°”ë¥´ê²Œ ì‘ë™í•œë‹¤ë©´, `useEffect`ë¥¼ ì˜ëª» ì‚¬ìš©í•˜ê³  ìˆëŠ” ê±´ ì•„ë‹Œì§€ í™•ì¸í•˜ì. `useEffect`ë¥¼ ì‚¬ìš©í•´ì„œ í•´ë‹¹ ë™ì‘ì„ êµ¬í˜„í•˜ëŠ” ê²ƒì´ ìµœì„ ì¸ì§€ ê³ ë¯¼í•´ë³´ì.

    ```tsx
    // ë‚˜ìœ ì˜ˆì‹œ
    function Component({ log }: { log: string }) {
      useEffect(() => {
        logging(log);
      }, []);
    }
        
    // logê°€ ë³€í•˜ë”ë¼ë„ useEffectì˜ ë¶€ìˆ˜ íš¨ê³¼ëŠ” ì‹¤í–‰ë˜ì§€ ì•ŠëŠ”ë‹¤.
    // ì´ëŸ° ê²½ìš°, logê°€ ë³€í•˜ë©´ ì»´í¬ë„ŒíŠ¸ëŠ” ë Œë”ë§ë˜ì§€ë§Œ, ë¶€ìˆ˜ íš¨ê³¼ê°€ ë°œìƒí•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ê·¸ íë¦„ì´ ë§ì§€ ì•Šê²Œ ëœë‹¤.
    // => ì´ ì»´í¬ë„ŒíŠ¸ ì•ˆì—ì„œ useEffectë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  ì‹¤í–‰í•  ìˆ˜ ì—†ì„ê¹Œ?
    // => loggingì´ë¼ëŠ” ì‘ì—…ì€ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‹¤í–‰í•´ì•¼í• ê¹Œ?
    ```

    - ì½œë°±ì— ì´ë¦„ì„ ë¶™ì—¬ì£¼ì. í•´ë‹¹ `useEffect`ì˜ ëª©ì ì„ íŒŒì•…í•˜ê¸° ì‰¬ì›Œì§„ë‹¤.

        ```tsx
          useEffect(function logging() {
            logging(log);
          }, [log]); 
        ```

    - ê°€ëŠ¥í•œ í•œ `useEffect`ëŠ” ê°„ê²°í•˜ê²Œ ìœ ì§€í•˜ì. ì½”ë“œê°€ ê¸´ `useEffect`ëŠ” ë°œìƒ ì‹œì  íŒŒì•…ì„ ì–´ë µê²Œ ë§Œë“ ë‹¤. ë¶€ë“ì´í•˜ê²Œ í° `useEffect`ë¥¼ ë§Œë“¤ì–´ì•¼ í•œë‹¤ë©´, ì—¬ëŸ¬ `useEffect`ë¡œ ë¶„ë¦¬í•˜ëŠ” ê²ƒë„ ì¢‹ë‹¤.

        ```tsx
          useEffect(function loadDashboardData() {
            let isActive = true;
            
            async function fetchAllData() {    
                // ì‚¬ìš©ì ì •ë³´ ê°€ì ¸ì˜¤ê¸°
                
                // ê²Œì‹œë¬¼ ê°€ì ¸ì˜¤ê¸°
                
                // ëŒ“ê¸€ ê°€ì ¸ì˜¤ê¸°
                
                // ì¢‹ì•„ìš” ê°€ì ¸ì˜¤ê¸°
                
                // ì•Œë¦¼ ê°€ì ¸ì˜¤ê¸°
            }
        
            fetchAllData();
            
            return () => {
              isActive = false;
            };
          }, [ì‚¬ìš©ì, ê²Œì‹œë¬¼, ëŒ“ê¸€ ì •ë³´, ì¢‹ì•„ìš”, ì•Œë¦¼, ...]);
        ```

    - ë¶ˆí•„ìš”í•œ ì™¸ë¶€ í•¨ìˆ˜ë¥¼ ë§Œë“¤ì§€ ë§ì. `useEffect`ì—ì„œë§Œ ì‚¬ìš©í•˜ëŠ” í•¨ìˆ˜ë¥¼ ì™¸ë¶€ì—ì„œ ì •ì˜í•˜ë©´, ì˜ì¡´ì„± ë°°ì—´ì´ ê¸¸ì–´ì§€ê³ , ê°€ë…ì„±ì´ ë‚˜ë¹ ì§„ë‹¤.

        ```tsx
        // ë‚˜ìœ ì˜ˆì‹œ
        function CommentList({ postId }) {
          const [comments, setComments] = useState([]);
        
          // useEffect ì™¸ë¶€ì— í•¨ìˆ˜ ì •ì˜
          async function fetchComments(id) {
            const response = await fetch(`/api/posts/${id}/comments`);
            const data = await response.json();
            setComments(data);
          }
        
          useEffect(function loadComments() {
            fetchComments(postId);
          }, [postId, fetchComments]); // fetchCommentsë¥¼ ì˜ì¡´ì„± ë°°ì—´ì— í¬í•¨í•´ì•¼ í•¨
          
          return (
            <ul>
              {comments.map(comment => (
                <li key={comment.id}>{comment.text}</li>
              ))}
            </ul>
          );
        }
        ```

    **ì£¼ì˜ ì‚¬í•­ì„ ì˜ ì§€í‚¨ ì˜ˆì‹œ**

    ```tsx
    function UserProfile({ userId }) {
      const [user, setUser] = useState(null);
      const [loading, setLoading] = useState(true);
    
      useEffect(function fetchUserData() { // ê¸°ëª… í•¨ìˆ˜ ì‚¬ìš©, í•¨ìˆ˜ë¥¼ ë‚´ë¶€ì—ì„œ ì •ì˜, í•˜ë‚˜ì˜ ì‘ì—…ë§Œ ìˆ˜í–‰.
        async function getUserData() {
          try {
            setLoading(true);
            const response = await fetch(`/api/users/${userId}`);
            const data = await response.json();
            setUser(data);
          } catch (error) {
            console.error('Failed to fetch user data:', error);
          } finally {
            setLoading(false);
          }
        }
    
        getUserData();
      }, [userId]); // ì½œë°±ì—ì„œ ì‚¬ìš©í•˜ëŠ” userIdë¥¼ ì˜ì¡´ì„±ì— í¬í•¨
    
      if (loading) return <div>Loading...</div>;
      if (!user) return <div>User not found</div>;
    
      return (
        <div>
          <h1>{user.name}</h1>
          <p>Email: {user.email}</p>
        </div>
      );
    }
    ```

- **ì°¸ê³ **

    â“ **useEffectì˜ ì½œë°± ì¸ìˆ˜ë¡œ ë¹„ë™ê¸° í•¨ìˆ˜ë¥¼ ë°”ë¡œ ì‚¬ìš©í•˜ì§€ ëª»í•˜ëŠ” ì´ìœ ëŠ”?
     â‡’ race conditionì´ ë°œìƒí•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤.**

    ```tsx
    // ì—ëŸ¬ê°€ ë°œìƒí•˜ëŠ” ì½”ë“œ
    useEffect(async () => {
      const data = await fetchData(someId); // ë„¤íŠ¸ì›Œí¬ ìš”ì²­
      setData(data);
    }, [someId]);
    ```

  - `someId = 1`ì¼ ë•Œ `useEffect` ì‹¤í–‰ â†’ `fetchData(1)` ì‹œì‘ë¨
  - ì‚¬ìš©ìê°€ ë¹ ë¥´ê²Œ someIdë¥¼ `2`ë¡œ ë°”ê¿ˆ â†’ `useEffect` ë‹¤ì‹œ ì‹¤í–‰ â†’ `fetchData(2)` ì‹œì‘ë¨
  - `fetchData(2)`ì´ `fetchData(1)`ë³´ë‹¤ **ë¹¨ë¦¬ ëë‚˜ëŠ” ê²½ìš°**
  - ê²°ê³¼ì ìœ¼ë¡œ `setData(data)`ê°€ `fetchData(1)`ì˜ ê²°ê³¼(**ì˜¤ë˜ëœ ë°ì´í„°)**ë¡œ ê°±ì‹ ë˜ì–´ ë²„ë¦¼

    **ë™ê¸° í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´, ì™„ë£Œë˜ì§€ ì•Šì€ ë¹„ë™ê¸° ì‘ì—…ì„ í´ë¦°ì—…í•  ìˆ˜ ìˆë‹¤.**

    ```tsx
    useEffect(() => {
      let shouldIgnore = false;
    
      const fetchData = async () => {
        const result = await fetchDataForId(someId);
        if (!shouldIgnore ) {
          setData(result);
        }
      };
    
      fetchData();
    
      return () => {
        shouldIgnore = true; // ì´ì „ ì‘ì—…ì€ ë¬´ì‹œë¨
      };
    }, [someId]);
    ```

    - `someId = 1`ì¼ ë•Œ `useEffect` ì‹¤í–‰ â†’ `fetchData(1)` ì‹œì‘ë¨
    - ì‚¬ìš©ìê°€ ë¹ ë¥´ê²Œ someIdë¥¼ `2`ë¡œ ë°”ê¿ˆ â†’ `useEffect`ê°€ ë‹¤ì‹œ ì‹¤í–‰ë˜ë©° í´ë¦°ì—… í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•¨ â†’ `setData(data)`ë¥¼ ì‹¤í–‰í•˜ì§€ ì•ŠìŒ

### useCallback

`useCallback`ì€ ë¦¬ë Œë”ë§ ê°„ì— í•¨ìˆ˜ ì •ì˜ë¥¼ ìºì‹±í•´ ì£¼ëŠ” í›…ì´ë‹¤.

> `const cachedFn = useCallback(fn, dependencies)`

- ì˜ˆì‹œ ì½”ë“œ í™•ì¸

    ```tsx
    import { memo, useCallback, useEffect, useState } from "react";
    
    const Child = memo(({ name, value, onChange }) => {
      useEffect(() => {
        console.log("ë Œë”ë§!", name);
      });
    
      return (
        <>
          <h1>
            {name} {value ? "ì¼œì§" : "êº¼ì§"}{" "}
          </h1>
          <button onClick={onChange}>toggle</button>
        </>
      );
    });
    
    function App() {
      const [status1, setStatus1] = useState(false);
      const [status2, setStatus2] = useState(false);
    
      const toggle1 = () => {
        setStatus1(!status1);
      };
      const toggle2 = () => {
        setStatus2(!status2);
      };
    
      return (
        <>
          <Child name="1" value={status1} onChange={toggle1} />
          <Child name="2" value={status2} onChange={toggle2} />
        </>
      );
    }
    
    // function App() {
    //   const [status1, setStatus1] = useState(false);
    //   const [status2, setStatus2] = useState(false);
    
    //   const toggle1 = () => {
    //     setStatus1(!status1);
    //   };
    
    //   const toggle2 = useCallback(() => {
    //     setStatus2(!status2);
    //   }, [status2]);
    
    //   return (
    //     <>
    //       <Child name="1" value={status1} onChange={toggle1} />
    //       <Child name="2" value={status2} onChange={toggle2} />
    //     </>
    //   );
    // }
    
    export default Callback;
    
    ```

## ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ë¡œì§ ë§Œë“¤ê¸°: Custom Hookê³¼ HOC

### Custom Hook (ì‚¬ìš©ì ì •ì˜ í›…)

- **ğŸ¯ ëª©ì **: í›…ì„ ì‚¬ìš©í•˜ëŠ” ë¡œì§ì„ ì„œë¡œ ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì—ì„œ ê³µìœ í•˜ê³ ì í•  ë•Œ ì‚¬ìš©í•œë‹¤.
- **ì˜ˆì‹œ**:
  - `useIsClient` - ì¶œì²˜: [usehooks](https://github.com/uidotdev/usehooks/blob/90fbbb4cc085e74e50c36a62a5759a40c62bb98e/index.js#L543)

    ```tsx
    import { useEffect, useState } from 'react'
    
    export function useIsClient() {
      const [isClient, setIsClient] = useState(false);
    
      useEffect(() => {
        setIsClient(true);
      }, []);
    
      return isClient;
    }
    ```

    - `useFetch` - ì¶œì²˜: ì±…

        ```tsx
        import { useEffect, useState } from 'react'
        
        export function useFetch<T>(
          url: string, 
          {method, body}: {method: string, body?: XMLHttpRequestBodyInit },
        ) {
          const [result, setResult] = useState<T | undefined>();
          const [isLoading, setIsLoading] = useState<boolean>(false);
          const [ok, setOk] = useState<T | undefined>();
          const [status , setStatus ] = useState<number | undefined>();
        
          useEffect(() => {
            const abortController = new AbortController();
            
            const fetchData = async () => {
              setIsLoading(true);
              
              const response = await fetch(url, {
                method,
                body,
                signal: abortController.signal,
              });
              
              setOk(response.ok);
              setStatus(response.status);
              
              if (response.ok) {
                const apiResult = await response.json();
                setResult(apitResult);
              }
              
              setIsLoading(false);
            };
            
            fetchData();
            
            return () => {
              abortController.abort();
            }
          }, [url, method, body]);
        
          return { result, isLoading, ok, status };
        }
        ```

- **âš ï¸ ì£¼ì˜**: ì»¤ìŠ¤í…€ í›…ì˜ ì´ë¦„ì€ `use`ë¡œ ì‹œì‘í•´ì•¼ í•œë‹¤.
- ì»¤ìŠ¤í…€ í›… ë¼ì´ë¸ŒëŸ¬ë¦¬
  - [uidotdev/usehooks](https://github.com/uidotdev/usehooks)
  - [streamich/react-use](https://github.com/streamich/react-use)
  - [alibaba/hooks](https://github.com/alibaba/hooks)

### Higher Order Component (HOC, ê³ ì°¨ ì»´í¬ë„ŒíŠ¸)

- **ğŸ¯ ëª©ì **: ì»´í¬ë„ŒíŠ¸ ìì²´ì˜ ë¡œì§ì„ ì¬ì‚¬ìš©í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•œë‹¤.
- **ì˜ˆì‹œ**:
    - `React.memo` ì½”ë“œ í™•ì¸

        ```tsx
        import { memo, useState, useEffect } from "react";
        
        const Child = memo(({ name }) => {
          useEffect(() => {
            console.log("ë Œë”ë§ ë°œìƒ");
          });
        
          return <>ì•ˆë…•, {name}!</>;
        });
        
        function Parent() {
          const [count, setCount] = useState(0);
        
          function handleClick() {
            setCount((prev) => prev + 1);
          }
        
          return (
            <div>
              <Child name="ì„ì¤€" />
              <button onClick={handleClick}>ì¹´ìš´íŠ¸: {count}</button>
            </div>
          );
        }
        
        export default Parent;
        
        ```

    - `withLoginComponent` - ì¶œì²˜: ì±…

        ```tsx
        interface LoginProps {
          loginRequired?: boolean;
        }
        
        function withLoginComponent<T>(Component: ComponentType<T>) {
          return function (props: T & LoginProps) {
            const { loginRequired, ...restProps } = props
            
            if (loginRequired) {
              return <>ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.</>
            }
            
            return <Component {...(restProps as T)} />
          }
        }
        
        const Component = withLoginComponent((props: { value: string }) => {
          return <h3>{props.value}</h3>
        });
        
        export default function App() {
          const isLogin = true;
          return <Component value="text" loginRequired={isLogin} />
        }
        ```

- **âš ï¸ ì£¼ì˜**
  - HOCì˜ ì´ë¦„ì€ `with`ë¡œ ì‹œì‘í•˜ëŠ” ê´€ìŠµì´ ìˆë‹¤.
  - ë¶€ìˆ˜ íš¨ê³¼ë¥¼ ìµœì†Œí™”í•´ì•¼ í•œë‹¤. â‡’ ì˜ˆì‹œ) ê¸°ì¡´ propsë¥¼ ì„ì˜ë¡œ ìˆ˜ì •, ì¶”ê°€, ì‚­ì œí•˜ì§€ ì•Šì•„ì•¼ í•œë‹¤.
  - ì—¬ëŸ¬ ê°œì˜ HOCì„ ì¤‘ì²©í•˜ëŠ” ê²½ìš°ëŠ” ë³µì¡ì„±ì´ ì»¤ì§€ë¯€ë¡œ, ì§€ì–‘í•´ì•¼ í•œë‹¤.

### ë¬´ì—‡ì„ ì¨ì•¼í• ê¹Œ?

ê³µí†µ ë¡œì§ì„ ì¬ì‚¬ìš©í•  ë•ŒëŠ”, **ê·¸ ë¡œì§ì´ ì»´í¬ë„ŒíŠ¸ì˜ ë Œë”ë§ ê²°ê³¼ì— ì§ì ‘ ì˜í–¥ì„ ì£¼ëŠ”ì§€** ì—¬ë¶€ì— ë”°ë¼ **Custom Hook** ë˜ëŠ” **HOC** ì¤‘ ë¬´ì—‡ì„ ì‚¬ìš©í• ì§€ ê²°ì •í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.

- **ë Œë”ë§ ê²°ê³¼ì— ì˜í–¥ì„ ì£¼ì§€ ì•ŠëŠ” ë¡œì§**ì´ë¼ë©´ â†’  **Custom Hook**
- **ë Œë”ë§ ê²°ê³¼ ìì²´ë¥¼ ë³€ê²½í•˜ê±°ë‚˜ ì¡°ê±´ë¶€ ë Œë”ë§ì´ í•„ìš”í•œ ê²½ìš°**ë¼ë©´ â†’ **HOC**
